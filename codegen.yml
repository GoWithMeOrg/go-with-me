# schema: 'http://localhost:4000/graphql'
# documents: './packages/web-frontend/src/app/graphql/**/*.{ts,tsx}' # искать gql теги во всех ts/tsx файлах
# generates:
#     # 1️⃣ Базовые типы схемы
#     ./packages/web-frontend/src/app/types/base-types.ts:
#         plugins:
#             - typescript

#     # 2️⃣ Типы операций из gql тегов
#     ./packages/web-frontend/src/app/types/operations/:
#         preset: 'near-operation-file'
#         presetConfig:
#             extension: '.types.ts'
#             folder: ''
#             baseTypesPath: '../base-types.ts'
#             # Генерировать index.ts с экспортами
#             rootTypesPath: './index.ts'
#         plugins:
#             - typescript-operations

schema: 'http://localhost:4000/graphql'
documents: './packages/web-frontend/src/app/graphql/**/*.{ts,tsx}'

generates:
    # 1️⃣ Генерация типов схемы (User, Location, Category и т.д.)
    ./packages/web-frontend/src/app/graphql/types.ts:
        plugins:
            - typescript
        config:
            onlyTypes: true

    # 2️⃣ Генерация типов для операций — каждый файл рядом со своей операцией
    ./packages/web-frontend/src/app/graphql/:
        preset: near-operation-file
        presetConfig:
            extension: .generated.ts # итоговое расширение файлов
            baseTypesPath: types.ts # путь к типам схемы (из блока выше)
        plugins:
            - typescript-operations
